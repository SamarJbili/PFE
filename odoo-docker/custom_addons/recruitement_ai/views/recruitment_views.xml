<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="kanban_controller" name="Recruitment Kanban Controller">
        <t t-call="web.layout">
            <t t-set="title">Évaluation des CVs</t>
            <div class="container mt-4">
                <div class="row">
                    <div class="col-12">
                        <h2>Évaluation des CVs pour l'offre d'emploi</h2>
                        <form action="/recruitment/process" method="post" enctype="multipart/form-data">
                            <div class="form-group">
                                <label for="job_id">Poste:</label>
                                <select class="form-control" name="job_id" id="job_id">
                                    <t t-foreach="jobs" t-as="job">
                                        <option t-att-value="job.id" 
                                                t-att-selected="job.id == current_job_id">
                                            <t t-esc="job.name"/>
                                        </option>
                                    </t>
                                </select>
                            </div>
                            <div class="form-group mt-3">
                                <label for="csv_file">Fichier CSV des CVs:</label>
                                <input type="file" class="form-control" name="csv_file" id="csv_file" required="required"/>
                                <small class="form-text text-muted">Sélectionnez le fichier CSV généré lors de l'analyse des CVs.</small>
                            </div>
                            <button type="submit" class="btn btn-primary mt-3">Évaluer</button>
                        </form>
                    </div>
                </div>
            </div>
        </t>
    </template>
    
    <!-- Template pour la boîte de dialogue des résultats -->
    <template id="evaluation_results_dialog" name="Recruitment.EvaluationResultsDialog">
        <div class="modal-body p-0" t-out="props.body"/>
    </template>
</odoo>